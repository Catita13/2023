<!DOCTYPE html>
<html lang="en" ng-app="todoApp">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Todo List with AngularJS</title>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<style>
    body {
        background-color: #111;
        color: #fff;
        font-family: 'Arial', sans-serif;
        transition: background-color 0.3s, color 0.3s;
    }

    .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }

    h1 {
        font-size: 36px;
        text-align: center;
        margin-bottom: 20px;
    }

    p {
        font-size: 18px;
        line-height: 1.6;
    }

    button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #00ffaa;
        color: #111;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
    }

    button:hover {
        background-color: #00cc88;
        transform: translateY(-2px);
    }

    input[type="text"] {
        padding: 10px;
        font-size: 16px;
        border: 2px solid #00ffaa;
        border-radius: 5px;
        background-color: #111;
        color: #fff;
    }

    ul {
        list-style: none;
        padding: 0;
    }

    li {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .date-time {
        font-size: 14px;
        color: #888;
        margin-right: 10px;
    }

    .priority {
        font-size: 14px;
        color: #ff9800;
        margin-right: 10px;
    }

    .completed {
        text-decoration: line-through;
    }

    .dark-mode-toggle {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #333;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
    }

    .dark-mode-toggle:hover {
        background-color: #555;
    }
</style>
</head>
<body>

<div ng-controller="TodoController as todoCtrl" class="container">
    <h1>Todo List</h1>
    <form ng-submit="todoCtrl.addTodo()">
        <input type="text" ng-model="todoCtrl.newTodoText" placeholder="Add new todo" required>
        <button type="submit">Add</button>
    </form>
    <ul>
        <li ng-repeat="todo in todoCtrl.todos">
            <div>
                <span class="date-time">{{ todo.dateTime | date:'MMM d, yyyy - h:mm a' }}</span>
                <span class="priority" ng-if="todo.priority">{{ todo.priority }}</span>
                <input type="checkbox" ng-model="todo.completed">
                <span ng-class="{completed: todo.completed}">{{ todo.text }}</span>
            </div>
            <button ng-click="todoCtrl.removeTodo(todo)">Remove</button>
        </li>
    </ul>
    <button class="dark-mode-toggle" ng-click="toggleDarkMode()">Toggle Dark Mode</button>
</div>

<script>
angular.module('todoApp', [])
  .controller('TodoController', function($scope) {
    var todoCtrl = this;
    
    todoCtrl.todos = [
      { text: 'Learn AngularJS!', completed: false, dateTime: new Date(), priority: 'High' },
      { text: 'Build a todo app!', completed: false, dateTime: new Date(), priority: 'Medium' }
    ];
    
    todoCtrl.addTodo = function() {
      if (todoCtrl.newTodoText) {
        todoCtrl.todos.push({ text: todoCtrl.newTodoText, completed: false, dateTime: new Date(), priority: todoCtrl.newTodoPriority });
        todoCtrl.newTodoText = '';
        todoCtrl.newTodoPriority = '';
      }
    };
    
    todoCtrl.removeTodo = function(todo) {
      var index = todoCtrl.todos.indexOf(todo);
      if (index !== -1) {
        todoCtrl.todos.splice(index, 1);
      }
    };

    $scope.toggleDarkMode = function() {
        if (document.body.classList.contains('dark-mode')) {
            document.body.classList.remove('dark-mode');
        } else {
            document.body.classList.add('dark-mode');
        }
    };
  });
</script>

</body>
</html>
